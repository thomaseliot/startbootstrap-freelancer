/*
 * tasks.c
 *
 *  Created on: Apr 9, 2016
 *      Author: Tom
 */
#include "tasks.h"
#include "cmsis_os.h"
#include "stm32f4xx_hal.h"

void vPollButtonsTask(void * pvParameters) {
	portTickType xLastWakeTime;
	xLastWakeTime = osKernelSysTick();
	button BSPD_ERR_press = false;

	for( ;; )
	{
	/* Poll GPIO */
	if(HAL_GPIO_ReadPin(BSPD_ERR_GPIO_Port, BSPD_ERR_Pin) == GPIO_PIN_RESET)


	/* 10ms period = 100Hz */
	vTaskDelayUntil( &xLastWakeTime, ( osKernelSysTickMicroSec(10*1000) ) );
	}
}


#define BSPD_ERR_GPIO_Port GPIOE
